{"version":3,"sources":["node_modules/hyperapp/src/index.js","src/state.js","src/lib/lib.js","src/components/usertable.js","src/components/datatable.js","src/components/inputs.js","src/components/report/demographics.js","src/components/report/calc_item.js","src/components/report/counts.js","src/components/report/calc_score.js","src/components/report/categories.js","src/components/report/items.js","src/components/report/sections.js","src/components/report/exam.js","src/components/report/report.js","src/view.js","node_modules/debounce-promise/dist/index.js","src/actions/api.js","src/actions/records.js","src/actions/users.js","src/actions/actions.js","src/app.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["h","app","name","attributes","rest","children","length","arguments","push","node","pop","nodeName","key","state","actions","view","container","map","rootElement","oldNode","recycleElement","lifecycle","skipRender","isRecycling","globalState","clone","wiredActions","wireStateToActions","scheduleRender","element","toLowerCase","call","childNodes","nodeType","nodeValue","resolveNode","render","patch","setTimeout","target","source","out","i","setPartialState","path","value","slice","getPartialState","action","data","result","then","concat","getKey","eventListener","event","currentTarget","events","type","updateAttribute","oldValue","isSvg","style","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateElement","oldAttributes","cb","onupdate","removeChildren","ondestroy","removeElement","parent","done","removeChild","onremove","newElement","insertBefore","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","k","newKey","keyedNode","activity_id","users","user","lrsdata","displaydata","uniq","ar","filter","v","s","indexOf","pluck","ele","arr","a","sortByProp","p","b","display_time","stamp","currentDate","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","suffix","datestamp","record","context","timing","timestamp","timezone","time_from_seconds","time","hrs","Math","floor","mins","secs","round","hrstr","minstr","UserRow","id","email","clickFn","e","UserTable","select","LrsRow","row","user_id","item_id","verb","timer","total","chosen_answer","correct","DataTable","sort","TextInput","field","func","init","label","InputFields","get_records","user_select","Demographics","getByVerb","rs","find","correctAttempt","gradedAttempt","iscorrect","total_duration","reduce","t","r","toFixed","duration_of","correctAnswerLetter","letters","split","ga","guess","item","responses","forEach","displayText","attempted","completed","skipped","first","second","cor","groupByItemId","rv","x","el","sortAndGroupRecords","lrs","ITEMS","count_correct","tot","count_incorrect","count_skipped","percentage_correct","Categories","ItemGroup","external_id","Items","records","it","Section","Sections","Exam","Report","no_user","get_users","selected_user","endpoint","fetch_lrsdata","fetch","res","json","get_lrsdata","console","log","set_lrsdata","log_state","lrsEvents","fetch_users","set_users","uu","u","window","__state","body","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","now","parentNode","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module"],"mappings":"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","file":"app.1d621ea6.map","sourceRoot":"..","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in clone(oldValue, value)) {\n        var style = value == null || value[i] == null ? \"\" : value[i]\n        if (i[0] === \"-\") {\n          element[name].setProperty(i, style)\n        } else {\n          element[name][i] = style\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","export const state = {\n  activity_id: '499a63ab-971f-4edd-9c7d-a18b21227f7e',\n  users: [],\n  user: {},\n  lrsdata: [],\n  displaydata: [],\n}","export const uniq = ar => ar.filter( (v, i, s) => s.indexOf(v) === i )\nexport const pluck = (ele) => (arr) => arr.map( a => a[ele] )\nexport const sortByProp = (p) => (a,b) => a[p] < b[p] ? -1 : (a[p] > b[p] ? 1 : 0)\n\nexport const display_time = (stamp) => {\n  let currentDate = new Date(stamp),\n    day = currentDate.getDate(),\n    month = currentDate.getMonth() + 1,\n    year = currentDate.getFullYear(),\n    hours = currentDate.getHours(),\n    minutes = currentDate .getMinutes();\n\n  if (minutes < 10) {\n    minutes = \"0\" + minutes;\n  }\n\n  let suffix = hours >= 12 ? \"PM\" : \"AM\";\n  // hours = suffix === 'PM' ? hours - 12 : hours;\n  hours = hours === 0 ? 12 : hours;\n  return `${year}-${month}-${day} ${hours}:${minutes} ${suffix}`\n}\nexport const datestamp = record => {\n  return display_time(record.context.timing.timestamp) + ' ' + record.context.timing.timezone;\n}\n\n\nexport const time_from_seconds = (time) => {\n  let hrs = Math.floor(time / 3600)\n  let mins = Math.floor((time % 3600) / 60)\n  let secs = Math.round(time % 60)\n  let hrstr = hrs > 0 ? `${hrs}h ` : ''\n  let minstr = mins > 0 ? `${mins}m ` : ''\n  return `${hrstr}${minstr}${secs}s`;\n}","import { h } from 'hyperapp'\nimport { uniq, pluck } from '../lib/lib'\n\nconst UserRow = ({id, email, clickFn}) => (\n  <tr>\n    <td class='tiny'>\n      <a onclick={ (e) => clickFn(id) }>{email}</a>\n      </td>\n  </tr>\n)\n\nexport const UserTable = ({ users, select }) => (\n  <table id='usertable'>\n  <thead>\n    <th>Users</th>\n  </thead>\n  <tbody>\n    {users.map( user => (\n      <UserRow\n        id={user.id}\n        email={user.email}\n        clickFn={select}\n      ></UserRow>\n    ))}\n  </tbody>\n  </table>\n)","import { h } from 'hyperapp'\nimport { display_time, time_from_seconds, sortByProp } from '../lib/lib'\n\nconst LrsRow = ({row}) => (\n  <tr>\n    <td class='tiny'>{row.user_id}</td>\n    <td class='tiny'>{row.context.item_id}</td>\n    <td>{row.verb}</td>\n    <td>{time_from_seconds(row.context.timing.timer.total)}</td>\n    <td>{row.context.chosen_answer}</td>\n    <td>{row.context.correct ? \"Yes\" : ''}</td>\n    <td class='tiny'>{display_time(row.context.timing.timestamp)} {row.context.timing.timezone}</td>\n    <td class='tiny'>{display_time(row.timestamp)}</td>\n  </tr>\n)\n\nexport const DataTable = ({ data }) => (\n  <table id='datatable'>\n    <thead>\n      <th>User</th>\n      <th>Item</th>\n      <th>Verb</th>\n      <th>Time</th>\n      <th>Chosen Answer</th>\n      <th>Correct?</th>\n      <th>User Timestamp</th>\n      <th>Server Timestamp</th>\n    </thead>\n    <tbody>\n      {data.sort( sortByProp('timestamp') ).map(row => (\n        <LrsRow row={row} />\n      ))}\n    </tbody>\n  </table>\n)\n","import { h } from 'hyperapp'\n\nconst TextInput = ({field, func, init, label}) => (\n  <label for={field}\n    onclick={ e => func(init) }\n  >\n    {label}:&nbsp;\n    <input\n      name={field}\n      type='text'\n      class='input_text'\n      value={init}\n      oninput={ e => func(e.target.value) }\n    />\n  </label>\n)\n\nexport const InputFields = ({state, actions}) => (\n  <div class='inputs'>\n    <TextInput\n      field='activity_id'\n      func={actions.get_records}\n      init={state.activity_id}\n      label=\"Activity UUID\"\n    />\n    <TextInput\n      field='user_id'\n      func={actions.user_select}\n      init={state.user.id}\n      label=\"User UUID\"\n    />\n  </div>\n)","import { h } from 'hyperapp'\n\nexport const Demographics = ({user}) => (\n<demographics appointmentid=\"\" functioncode=\"\" workstationname=\"\">\n  <demographic name=\"CandidateFirstName\" value=\"\" />\n  <demographic name=\"CandidateLastName\" value=\"\" />\n  <demographic name=\"email\" value=\"{user.email}\" />\n</demographics>\n)","const getByVerb = verb => rs => rs.find( i => i.verb === verb )\nconst correctAttempt = rs => rs.find(i => (i.context.correct === true))\nconst gradedAttempt = rs => correctAttempt(rs) || getByVerb('second_attempt')(rs)\n\nexport const iscorrect = rs => correctAttempt(rs) ? 1 : 0\n\nexport const total_duration = rs => (\n  rs.reduce((t, r) => (t + r.context.timing.timer.total), 0).toFixed(3)\n)\n\nexport const duration_of = verb => rs => {\n  let r = getByVerb(verb)(rs)\n  return r ? r.context.timing.timer.total : 0\n}\n\nexport const correctAnswerLetter = rs => {\n  const letters = \"ABCDE\".split('')\n  const ga = gradedAttempt(rs)\n  let result = {guess: '', correct: ''}\n  ga.context.item.responses.forEach((r,i) => {\n    if(r.displayText === ga.context.chosen_answer) { result.guess = letters[i] }\n    if(r.type[0] === 'correct') { result.correct = letters[i] }\n  })\n  return result\n}\n\nexport const attempted = rs => rs.find(i => i.verb === 'first_attempt') ? 1 : 0\nexport const completed = rs => skipped(rs) ? 0 : 1\nexport const skipped = rs => {\n  let first = getByVerb('first_attempt')(rs)\n  let second = getByVerb('second_attempt')(rs)\n  let cor = iscorrect(rs)\n  return first && !cor && !second ? 1 : 0\n}","import { sortByProp } from '../../lib/lib'\n\nconst groupByItemId = arr => {\n  return arr.reduce((rv, x) => {\n    let v = x.context.item_id;\n    let el = rv.find((r) => r && r[0].context.item_id === v);\n    if (el) { el.push(x); }\n    else { rv.push([x]); }\n    return rv;\n  }, []);\n};\n\nexport const sortAndGroupRecords = lrs => (\n  groupByItemId( lrs.sort(sortByProp('timestamp')) )\n)","import { iscorrect } from \"./calc_item\";\nimport { sortAndGroupRecords } from './counts'\n\nconst ITEMS = 175\n\nexport const count_correct = rs => (\n  sortAndGroupRecords(rs).reduce((tot, i) => (tot + iscorrect(i)), 0)\n)\nexport const count_incorrect = rs => (\n  sortAndGroupRecords(rs).reduce((tot, i) => (tot + (iscorrect(i) ? 0 : 1)), 0)\n)\nexport const count_skipped = rs => ITEMS - count_correct(rs) - count_incorrect(rs)\nexport const percentage_correct = rs => (count_correct(rs) * 100 / ITEMS).toFixed(2)","import  { h } from 'hyperapp'\nimport  { count_correct,\n          count_incorrect,\n          count_skipped } from './calc_score'\n\nexport const Categories = ({data}) => (\n  <categories>\n    <category name=\"hand_surgery\"\n      count=\"175\"\n      countcorrect={count_correct(data)}\n      countincorrect={count_incorrect(data)}\n      countskipped={count_skipped(data)}\n      countmarked=\"0\"\n    >\n    </category>\n  </categories>\n)","import { h } from 'hyperapp'\nimport { sortAndGroupRecords } from './counts'\nimport  { iscorrect,\n          total_duration,\n          duration_of,\n          attempted,\n          correctAnswerLetter,\n          completed,\n          skipped\n        } from './calc_item'\n\n// TODO: Need some extra data from the Sequence\n// which will give me items that were SEEN...\n// but may not have attempts and LRS records\n\nconst ItemGroup = ({item}) => (\n  <itemgroup\n    id={item[0].context.item_id}\n    name={item[0].context.item.external_id[0]}\n    scored={iscorrect(item)}\n    duration={total_duration(item)}\n    durationFirstAttempt={duration_of('first_attempt')(item)}\n    durationRationale={duration_of('rationale_time')(item)}\n    durationSecondAttempt={duration_of('second_attempt')(item)}\n    progid=\"UTDP.MultiChoiceItem.1\"\n    weight=\"1\"\n    presented={attempted(item)}\n    visited={attempted(item)}\n    >\n    <item\n      response={correctAnswerLetter(item).guess}\n      correctresponse={correctAnswerLetter(item).correct}\n      score={iscorrect(item)}\n      scoremin=\"0\"\n      scoremax=\"1\"\n      scorenom=\"0\"\n      complete={completed(item)}\n      skipped={skipped(item)}\n      marked=\"0\" />\n  </itemgroup>\n)\n\nexport const Items = ({records}) => (\n  sortAndGroupRecords(records)\n    .map( it => (<ItemGroup item={it} />))\n)","import  { h } from 'hyperapp'\nimport  { Items } from './items'\nimport  { datestamp } from '../../lib/lib'\nimport  { total_duration } from './calc_item'\nimport  { count_correct,\n          count_incorrect,\n          count_skipped,\n          percentage_correct } from './calc_score'\n\n\nconst Section = ({data}) => (\n  <section name=\"hand_exam\"\n    count=\"175\"\n    countcorrect={count_correct(data)}\n    countincorrect={count_incorrect(data)}\n    countskipped={count_skipped(data)}\n    countmarked=\"0\"\n    startdatetime={datestamp(data[0])}\n    enddatetime={datestamp(data[data.length - 1])}\n    duration={total_duration(data)}\n    >\n    <score\n      scorevalue={count_correct(data)}\n      scoredisplay={percentage_correct(data)}\n      passindicator=\"p\"\n      scoremin=\"0\"\n      scoremax=\"175\"\n      scorecut=\"0\"\n      />\n    <Items records={data} />\n  </section>\n)\n\nexport const Sections = ({data}) => (\n  <sections>\n    <Section data={data} />\n  </sections>\n)","import { h } from 'hyperapp'\nimport { Categories } from './categories'\nimport { Sections } from './sections'\nimport { datestamp } from '../../lib/lib'\nimport  { total_duration } from './calc_item'\nimport  { count_correct,\n          count_incorrect,\n          count_skipped,\n          percentage_correct } from './calc_score'\n\nexport const Exam = ({data, user}) => (\n  <exam\n    resourcefilename={user.email + '.xml'}\n    resourceversion=\"1.0\"\n    name=\"MOC-HANDEXAM\"\n    examformname=\"HANDEXAM\"\n    driverversion=\"9.1.1 Build #0 (UTD 9.1 CORE (A))\"\n    startdatetime={datestamp(data[0])}\n    enddatetime={datestamp(data[data.length - 1])}\n    duration={total_duration(data)}\n    restartcount=\"0\"\n    count=\"175\"\n    countcorrect={count_correct(data)}\n    countincorrect={count_incorrect(data)}\n    countskipped={count_skipped(data)}\n    countmarked=\"0\"\n    functioncode=\"\"\n    workstationname=\"\"\n    >\n    <score\n      scorevalue={count_correct(data)}\n      scoredisplay={percentage_correct(data)}\n      passindicator=\"p\"\n      scoremin=\"0\"\n      scoremax=\"175\"\n      scorecut=\"0\"\n      />\n    <Sections data={data} />\n    <Categories data={data} />\n  </exam>\n)","import { h } from 'hyperapp'\nimport { Demographics } from './demographics'\nimport { Exam } from './exam'\nimport { sortAndGroupRecords } from './counts'\nimport  { total_duration } from './calc_item'\nimport { time_from_seconds } from '../../lib/lib'\nimport  { count_correct,\n          count_skipped,\n          count_incorrect,\n          percentage_correct } from './calc_score'\n\n\n\nexport const Report = ({state}) => (\n<div id='report'>\n  <ul class='data'>\n    <li>Records: {state.displaydata.length}</li>\n    <li>Unique Items: {sortAndGroupRecords(state.displaydata).length}</li>\n    <li>Correct: {count_correct(state.displaydata)}</li>\n    <li>Wrong: {count_incorrect(state.displaydata)}</li>\n    <li>Skipped: {count_skipped(state.displaydata)}</li>\n    <li>Score: {percentage_correct(state.displaydata)}</li>\n    <li>Duration: {time_from_seconds(total_duration(state.displaydata))}</li>\n  </ul>\n  <script>\n  {/* <?xml version=\"1.0\" encoding=\"UTF-8\"?> */}\n  <simpleXMLResult xmlns=\"http://sdk.prometric.com/schemas/SimpleXMLResults1_3\" version=\"1.3\">\n    <Demographics user={state.user} />\n    { state.displaydata[0] ? (<Exam data={state.displaydata} user={state.user} />) : null }\n  </simpleXMLResult>\n  </script>\n</div>\n)","import { h } from 'hyperapp';\nimport { state } from './state';\nimport { UserTable } from './components/usertable'\nimport { DataTable } from './components/datatable'\nimport { InputFields } from './components/inputs'\nimport { Report } from './components/report/report'\n\nconst no_user = actions => (\n  <button\n  class=\"fetch_users\"\n  onclick={ e => actions.get_users() }\n  >Fetch Users</button>\n)\n\nconst selected_user = user => (\n  <h3>\n    <em>{ user.id }</em>\n    { user.email }\n  </h3>\n)\n\nexport const view = (state, actions) => (\n  <section>\n    <h2>Search Propel2 LRS</h2>\n    <InputFields state={state} actions={actions} />\n    <br />\n    { state.user.id ? selected_user(state.user) : no_user(actions) }\n    <Report state={state}></Report>\n    <div class='tables'>\n      <UserTable users={state.users} select={actions.user_select} />\n      <DataTable data={state.displaydata}></DataTable>\n    </div>\n  </section>\n);","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* global setTimeout, clearTimeout */\n\nmodule.exports = function debounce(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var lastCallAt = void 0;\n  var deferred = void 0;\n  var timer = void 0;\n  var pendingArgs = [];\n  return function debounced() {\n    var currentWait = getWait(wait);\n    var currentTime = new Date().getTime();\n\n    var isCold = !lastCallAt || currentTime - lastCallAt > currentWait;\n\n    lastCallAt = currentTime;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (isCold && options.leading) {\n      return options.accumulate ? Promise.resolve(fn.call(this, [args])).then(function (result) {\n        return result[0];\n      }) : Promise.resolve(fn.call.apply(fn, [this].concat(args)));\n    }\n\n    if (deferred) {\n      clearTimeout(timer);\n    } else {\n      deferred = defer();\n    }\n\n    pendingArgs.push(args);\n    timer = setTimeout(flush.bind(this), currentWait);\n\n    if (options.accumulate) {\n      var _ret = function () {\n        var argsIndex = pendingArgs.length - 1;\n        return {\n          v: deferred.promise.then(function (results) {\n            return results[argsIndex];\n          })\n        };\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n\n    return deferred.promise;\n  };\n\n  function flush() {\n    var thisDeferred = deferred;\n    clearTimeout(timer);\n\n    Promise.resolve(options.accumulate ? fn.call(this, pendingArgs) : fn.apply(this, pendingArgs[pendingArgs.length - 1])).then(thisDeferred.resolve, thisDeferred.reject);\n\n    pendingArgs = [];\n    deferred = null;\n  }\n};\n\nfunction getWait(wait) {\n  return typeof wait === 'function' ? wait() : wait;\n}\n\nfunction defer() {\n  var deferred = {};\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n//# sourceMappingURL=index.js.map","export const endpoint = 'https://4ibvog74h7.execute-api.us-east-1.amazonaws.com/dev';\n","import debounce from 'debounce-promise'\nimport {endpoint} from './api'\n\nconst fetch_lrsdata = (activity_id, user_id) =>\n  fetch(`${endpoint}/lrs/activities/${activity_id}?user_id=${user_id}`)\n    .then(res => res.json())\nconst get_lrsdata = debounce(fetch_lrsdata, 700);\n\nexport const get_records = ({activity_id, user_id}) => (state, actions) => {\n  console.log('get_records', activity_id, user_id)\n  get_lrsdata(activity_id, user_id)\n    .then(actions.set_lrsdata)\n    .then(actions.log_state)\n  return { activity_id, displaydata: [] }\n};\n\nexport const set_lrsdata = lrsdata => (\n  { lrsdata, displaydata: lrsdata.lrsEvents }\n);","import debounce from 'debounce-promise'\nimport {endpoint} from './api'\n\nconst fetch_users = (actions) =>\n  fetch(`${endpoint}/users`)\n    .then(res => res.json())\n\nexport const get_users = () => (state, actions) => {\n  fetch_users(actions)\n    .then(actions.set_users)\n    .then(actions.log_state)\n  return {}\n};\n\nexport const set_users = (users) => ({ users })\n\nexport const user_select = user_id => (state, actions) => {\n  console.log('user_id', user_id)\n  actions.get_records({activity_id: state.activity_id, user_id})\n  let uu = state.users.filter( u => u.id == user_id )[0]\n  return { user: { id: uu.id, email: uu.email } }\n};","import { get_records, set_lrsdata } from './records'\nimport { get_users, set_users, user_select } from './users'\n\nexport const actions = {\n  log_state: () => state => {\n    window.__state = state;\n    console.log(\"state:\", state);\n  },\n  get_records,\n  set_lrsdata,\n  get_users,\n  set_users,\n  user_select,\n}","import { app } from 'hyperapp';\nimport { view } from './view';\nimport { state } from './state';\nimport { actions } from './actions/actions';\nimport './app.scss';\n\napp(state, actions, view, document.body);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}